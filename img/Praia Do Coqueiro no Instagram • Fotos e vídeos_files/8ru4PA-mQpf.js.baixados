;/*FB_PKG_DELIM*/

__d("loadLSThreadsForTheFirstTime",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(h||(h=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:h.max_int,maxThreadKey:h.max_int,minLastActivityTimestampMs:h.max_int,minThreadKey:h.max_int,parentThreadKey:b,shouldSkipE2eeThreadsRanges:!1})}g["default"]=a}),98);
__d("loadMoreLSThreads",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure","Promise","ReQL","loadLSThreadsForTheFirstTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,e)})).then(function(f){if(f!=null)if(!f.isLoadingBefore&&f.hasMoreBefore)return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(i||(i=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:f.maxLastActivityTimestampMs,maxThreadKey:f.maxThreadKey,minLastActivityTimestampMs:f.minLastActivityTimestampMs,minThreadKey:f.minThreadKey,parentThreadKey:e,shouldSkipE2eeThreadsRanges:!1});else return(h||(h=b("Promise"))).resolve();else return c("loadLSThreadsForTheFirstTime")(a,e)})}g["default"]=a}),98);
__d("IGDThreadListMessageRequestsBadgeForPDB.react",["fbt","I64","IGDSButton.react","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","LSIntEnum","MessageRequestStatus","MessengerWebUXLogger","PolarisFastLink.react","ReQL","ReQLSuspense","asyncToGeneratorRuntime","gkx","loadMoreLSThreads","promiseDone","react","useIGDDeviceType","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;e.useCallback;e.useMemo;var n=e.unstable_useMemoCache;function o(){var a=n(5),b=(i||(i=c("useReStore")))(),e;a[0]!==b.tables.message_requests||a[1]!==b.tables.threads?(e=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.message_requests).filter(function(a){return(j||(j=d("I64"))).equal(a.messageRequestStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("MessageRequestStatus").INCOMING_REQUEST))}),d("ReQL").fromTableAscending(b.tables.threads)).filter(function(a){a[0];a=a[1];var b=(j||(j=d("I64"))).equal(a.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(-3));a=j.compare(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)>0;return a&&!b}).take(21)},a[0]=b.tables.message_requests,a[1]=b.tables.threads,a[2]=e):e=a[2];var g;a[3]!==b?(g=[b],a[3]=b,a[4]=g):g=a[4];return d("ReQLSuspense").useArray(e,g,f.id+":39").length}function a(){var a=n(18),e=o(),f=(i||(i=c("useReStore")))(),g=e>20,k;a[0]!==e||a[1]!==g?(k=e===0?h._("__JHASH__daRy5dfwHXm__JHASH__"):h._("__JHASH__axTunZS1zLj__JHASH__",[h._plural(e),h._param("messageRequestCount",g?"20+":e)]),a[0]=e,a[1]=g,a[2]=k):k=a[2];g=k;var l;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=!1,a[3]=l):l=a[3];a[4]!==f?(k=function(){if(l===!0||!c("gkx")("262"))return;l=!0;c("promiseDone")(f.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("loadMoreLSThreads")(a,(j||(j=d("I64"))).of_int32(-1))});return function(b){return a.apply(this,arguments)}}(),"readwrite"))},a[4]=f,a[5]=k):k=a[5];k=k;k=k;var p=c("MessengerWebUXLogger").useInteractionLogger(),q=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),r;a[6]!==p||a[7]!==q?(r=function(){p==null?void 0:p({eventName:"visit_requests",flowInstanceId:q})},a[6]=p,a[7]=q,a[8]=r):r=a[8];r=r;var s=d("useIGDDeviceType").useIGDDeviceType();s=s.isMobile;if(s){a[9]!==g?(s=m.jsx(c("IGDSButton.react"),{href:"/direct/requests/",label:g,variant:"primary_link"}),a[9]=g,a[10]=s):s=a[10];return s}s=e>0?"primaryButton":"secondaryText";a[11]!==s||a[12]!==g?(e=m.jsx(c("IGDSText.react"),{color:s,weight:"semibold",zeroMargin:!0,children:g}),a[11]=s,a[12]=g,a[13]=e):e=a[13];a[14]!==r||a[15]!==k||a[16]!==e?(s=m.jsx(c("PolarisFastLink.react"),{href:"/direct/requests/",onClick:r,onMouseEnter:k,children:e}),a[14]=r,a[15]=k,a[16]=e,a[17]=s):s=a[17];return s}g["default"]=a}),226);